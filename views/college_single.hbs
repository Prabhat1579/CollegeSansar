<html lang='en'>
   <head>
      <meta charset='UTF-8' />
      <meta http-equiv='X-UA-Compatible' content='IE=edge' />
      <meta name='viewport' content='width=device-width, initial-scale=1.0' />
      <link rel='stylesheet' href='/css/college.css' />
      <link rel='preconnect' href='https://fonts.googleapis.com' />
      <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
      <link
         href='https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Poppins:ital,wght@0,200;0,300;1,300&display=swap'
         rel='stylesheet'
      />
      <script src='https://kit.fontawesome.com/0e01e4ad2c.js' crossorigin='anonymous'></script>

      <!-- CSS only -->
      <link
         href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css'
         rel='stylesheet'
         integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3'
         crossorigin='anonymous'
      />
      <!-- JavaScript Bundle with Popper -->
      <script
         src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js'
         integrity='sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p'
         crossorigin='anonymous'
      ></script>

      <title>College Sansar</title>
   </head>
   <body>
      <header>
         <nav class='m-3'>
            <a href='/'><img src='/assets/logo.png' alt='logo' /></a>
            <div class='nav-links p-0 d-flex justify-content-between align-items-center'>
               <ul class='m-0 d-flex align-items-center justify-content-between w-100 px-4'>
                  <div class='d-flex gap-3'>
                     <li><a href='/college'>College</a></li>
                     <li><a href='/career'>Careers</a></li>
                     <li><a href='/Exam'>Exams</a></li>
                  </div>

                  <div class='d-flex gap-2'>
                     {{#unless isLoggedIn}}
                        <a
                           class='btn btn-primary d-flex align-items-center justify-content-center py-3 text-light'
                           href='/Login'
                        >Log In</a>
                        <a
                           class='btn btn-primary d-flex align-items-center justify-content-center py-3 text-light'
                           href='/Register'
                        >Register</a>
                     {{/unless}}
                  </div>

               </ul>
               <div class='d-flex align-items-center gap-3'>
                  {{#if isLoggedIn}}
                     <span style='white-space: nowrap;'>Hi {{username}}</span>
                     <div class='btn btn-primary text-white p-0 d-flex align-items-center justify-content-center py-3'>
                        <a class='text-light text-decoration-none p-0' href='/auth/logout'>Log Out</a>
                     </div>
                  {{/if}}
               </div>
            </div>
         </nav>
         <hr />
      </header>

      <main class='p-3'>
         <h2 class='mb-4'>{{name}}</h2>

         <div class='d-flex flex-column flex-sm-row gap-3'>
            <div class=''>
               <img class='rounded img-fluid' height='200' src='/assets/KathmanduUniversity.png' alt='' />
               <button
                  data-bs-toggle='modal'
                  data-bs-target='#exampleModal'
                  class='btn btn-sm p-0 my-2 btn-primary'
               >Write a Review</button>
               <button
                  type='button'
                  data-bs-toggle='modal'
                  data-bs-target='#applyModal'
                  class='btn btn-sm p-0 my-2 btn-primary'
               >Apply</button>

               <!-- Button trigger modal -->

               <!-- Modal -->
               <div
                  class='modal fade'
                  id='applyModal'
                  tabindex='-1'
                  aria-labelledby='applyModalLabel'
                  aria-hidden='true'
               >
                  <div class='modal-dialog modal-dialog-scrollable'>
                     <div class='modal-content'>
                        <div class='modal-header'>
                           <h5 class='modal-title' id='exampleModalLabel'>Apply Form</h5>
                           <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
                        </div>
                        <div class='modal-body'>

                           <form action={{applyLink}} method='POST' encType='multipart/form-data'>
                              <h6>Basic Details</h6>

                              <div class='my-2'>
                                 <label class='small' for='name'>Full Name</label>
                                 <input class='form-control' type='text' id='name' name='fullName' required />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='email'>Email</label>
                                 <input class='form-control' type='text' id='email' name='email' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='phone'>Phone</label>
                                 <input class='form-control' type='text' id='phone' name='phone' />
                              </div>

                              <hr />
                              <h6>Personal Details</h6>

                              <div class='my-2'>
                                 <label class='small' for='fatherName'>Father's Name</label>
                                 <input class='form-control' type='text' id='fatherName' name='fatherName' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='motherName'>Mother's Name</label>
                                 <input class='form-control' type='text' id='motherName' name='motherName' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='dob'>Date of Birth</label>
                                 <input class='form-control' placeholder='1990-12-01' type='text' id='dob' name='dob' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='dob'>Parent's contact number</label>
                                 <input class='form-control' type='text' id='parentContant' name='parentContact' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='dob'>Citizenship Id</label>
                                 <input class='form-control' type='text' id='citizenId' name='citizenId' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='dob'>Upload Citizneship</label>
                                 <input class='form-control' type='file' id='citizenship' name='citizenship' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='dob'>Upload Photo</label>
                                 <input class='form-control' type='file' id='photo' name='photo' />
                              </div>

                              <hr />
                              <h6>Education Details</h6>
                              <div class='my-2'>
                                 <label class='small' for='slcGrade'>SLC Grade</label>
                                 <input class='form-control' type='text' id='slcGrade' name='slcGrade' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='plus2Grade'>+2 Grade</label>
                                 <input class='form-control' type='text' id='plus2Grade' name='plus2Grade' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='slcMarksheet'>SLC Marksheet</label>
                                 <input class='form-control' type='file' id='slcMarksheet' name='slcMarksheet' />
                              </div>
                              <div class='my-2'>
                                 <label class='small' for='plus2Marksheet'>+2 Marksheet</label>
                                 <input class='form-control' type='file' id='slcMarksheet' name='plus2Marksheet' />
                              </div>

                              <button type='submit' class='btn w-100 btn-sm p-0 my-2 btn-success'>Submit</button>

                           </form>

                        </div>

                     </div>
                  </div>
               </div>

               <!-- Button trigger modal -->

               <!-- Modal -->
               <div
                  class='modal fade'
                  id='exampleModal'
                  tabindex='-1'
                  aria-labelledby='exampleModalLabel'
                  aria-hidden='true'
               >
                  <div class='modal-dialog'>
                     <div class='modal-content'>
                        <div class='modal-header'>
                           <h5 class='modal-title' id='exampleModalLabel'>Write Your Review</h5>
                           <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
                        </div>
                        <div class='modal-body'>

                           {{#unless isLoggedIn}}
                              <div class='alert small px-4 py-2 alert-danger' role='alert'>
                                 Please Login to add your review!
                              </div>
                           {{/unless}}

                           <form action={{createReviewLink}} method='POST'>
                              <div class='my-2'>
                                 <label for='title'>Review Title</label>
                                 <input class='form-control' type='text' id='title' name='title' />
                              </div>
                              <div class='my-2'>
                                 <label for='description'>Review Description</label>
                                 <textarea
                                    class='form-control'
                                    type='text'
                                    id='description'
                                    name='description'
                                 ></textarea>
                              </div>
                              <div class='form-check'>
                                 <input
                                    class='form-check-input'
                                    type='radio'
                                    name='rating'
                                    id='negative'
                                    value='negative'
                                 />
                                 <label class='form-check-label' for='negative'>
                                    negative
                                 </label>
                              </div>
                              <div class='form-check'>
                                 <input
                                    class='form-check-input'
                                    type='radio'
                                    name='rating'
                                    id='neutral'
                                    value='neutral'
                                    checked
                                 />
                                 <label class='form-check-label' for='neutral'>
                                    neutral
                                 </label>
                              </div>
                              <div class='form-check disabled'>
                                 <input
                                    class='form-check-input'
                                    type='radio'
                                    name='rating'
                                    id='positive'
                                    value='positive'
                                 />
                                 <label class='form-check-label' for='positive'>
                                    positive
                                 </label>
                              </div>
                              <div class='my-3'>
                                 {{#if isLoggedIn}}
                                    <button class='btn m-0 btn-sm btn-primary p-0'>Submit</button>
                                 {{else}}
                                    <button disabled='true' class='btn m-0 btn-sm btn-primary p-0'>Submit</button>
                                 {{/if}}
                              </div>
                           </form>
                        </div>

                     </div>
                  </div>
               </div>

               <!-- Modal -->

               <div class='my-2'>
                  {{#if reviewAdded}}
                     <div class='alert p-2 px-3 small alert-success' role='alert'>
                        Your review has been added!
                     </div>
                  {{/if}}

                  {{#if collegeApplied}}
                     <div class='alert p-2 px-3 small alert-success' role='alert'>
                        Applied Successfully! We will reach out to you soon.
                     </div>{{/if}}
               </div>
            </div>

            <div class='p-2 flex-grow-1 w-100'>
               <div class='mb-4'>
                  <h4 class='lead'>
                     Category
                  </h4>
                  <small>
                     {{category}}
                  </small>
               </div>
               <div class='mb-4'>
                  <h4 class='lead'>
                     Description
                  </h4>
                  <small>
                     {{description}}
                  </small>
               </div>
               <div class='mb-4'>
                  <h4 class='lead'>
                     Courses Offered
                  </h4>
                  <small>
                     {{courses}}
                  </small>
               </div>
               <div class='mb-4'>
                  <h4 class='lead'>
                     Eligibility Criteria
                  </h4>
                  <small>
                     {{eligibility}}
                  </small>
               </div>
               <div class='mb-4'>
                  <h4 class='lead'>
                     Fee Structure
                  </h4>
                  <small>
                     {{fee}}
                  </small>
               </div>

               <hr />

               <h5 class='mt-4' id='write-review'>College Reviews</h5>

               {{#each reviews}}
                  <div class='p-3 bg-light rounded my-2 border'>
                     <div class='mb-2'><strong>{{this.username}} - {{this.rate}}</strong></div>
                     <em>{{this.title}}</em>
                     <p>
                        <small>{{{this.description}}}</small>
                     </p>
                  </div>
               {{/each}}

            </div>

         </div>
      </main>
   </body>
</html>